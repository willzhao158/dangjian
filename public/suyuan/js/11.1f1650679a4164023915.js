webpackJsonp([11],{"N+2L":function(e,t){},y0hP:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l={data:function(){return{vm:{searchKey:"",currentPage:1,pageSize:10,pageTotal:100},dataList:[{product:"阳光玫瑰（东兰）",batch:"2019041010800001",deliveryPlace:"深圳百果园全国各大门店",deliveryUser:"黄芳",receiveUser:"admin",receiveTime:"2018-06-14",deliveryCar:[]},{product:"阳光玫瑰（东兰）",batch:"2019041010800001",deliveryPlace:"深圳百果园全国各大门店",deliveryUser:"黄芳",receiveUser:"admin",receiveTime:"2018-06-14",deliveryCar:[]},{product:"阳光玫瑰（东兰）",batch:"2019041010800001",deliveryPlace:"深圳百果园全国各大门店",deliveryUser:"黄芳",receiveUser:"admin",receiveTime:"2018-06-14",deliveryCar:[]}],dialogVisible:!1,form:{plot:"东里旺旺葡萄园",product:"",batch:"",deliveryTime:"",deliveryPlace:"",deliveryUser:"",receiveUser:"",deliveryCar:[]},productList:[],batchList:[],rules:{product:[{required:!0,message:"请选择产品",trigger:"change"}],batch:[{required:!0,message:"请选择产品批次",trigger:"change"}],deliveryTime:[{required:!0,message:"请选择日期",trigger:"change"}],deliveryPlace:[{required:!0,message:"请填写配送目的地",trigger:"blur"}],deliveryUser:[{required:!0,message:"请填写配送员",trigger:"blur"}],receiveUser:[{required:!0,message:"请填写收货员",trigger:"blur"}]}}},computed:{tableHeight:function(){return document.documentElement.clientHeight-275}},methods:{search:function(){},add:function(){this.dialogVisible=!0},edit:function(e){this.resetForm(),this.dialogVisible=!0,this.form=e},save:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return e.$message.error("请检查您的输入！"),!1;e.dialogVisible=!1})},remove:function(e){var t=this;this.$confirm("是否删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$message({type:"success",message:"删除成功!"})}).catch(function(){})},resetForm:function(){this.form={plot:"东里旺旺葡萄园",product:"",batch:"",deliveryTime:"",deliveryPlace:"",deliveryUser:"",receiveUser:"",deliveryCar:[]}},addRow:function(){this.form.deliveryCar.push({carNo:"",carName:"",carTel:""})},removeRow:function(e){this.form.deliveryCar.splice(e,1)},handleSizeChange:function(e){console.log(e)},handleCurrentChange:function(e){console.log(e)}}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-container"},[r("el-aside",{staticClass:"page-nav-left"},[r("div",{staticClass:"aside-bar"},[r("el-menu",{attrs:{"default-active":"4"}},[r("router-link",{attrs:{to:"/trace/batch"}},[r("el-menu-item",{attrs:{index:"0"}},[r("i",{staticClass:"el-icon-position"}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("溯源管理")])])],1),e._v(" "),r("router-link",{attrs:{to:"/trace/certify"}},[r("el-menu-item",{attrs:{index:"1"}},[r("i",{staticClass:"el-icon-circle-check"}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("认证管理")])])],1),e._v(" "),r("router-link",{attrs:{to:"/trace/detect"}},[r("el-menu-item",{attrs:{index:"2"}},[r("i",{staticClass:"el-icon-set-up"}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("检测管理")])])],1),e._v(" "),r("router-link",{attrs:{to:"/trace/process"}},[r("el-menu-item",{attrs:{index:"3"}},[r("i",{staticClass:"el-icon-setting"}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("加工管理")])])],1),e._v(" "),r("router-link",{attrs:{to:"/trace/delivery"}},[r("el-menu-item",{attrs:{index:"4"}},[r("i",{staticClass:"el-icon-truck"}),e._v(" "),r("span",{attrs:{slot:"title"},slot:"title"},[e._v("配送管理")])])],1)],1)],1)]),e._v(" "),r("el-main",{staticClass:"m-l-220 m-t-20 bg-white"},[r("div",{staticClass:"flex flex-align-center flex-pack-justify"},[r("div",{staticClass:"flex flex-align-center"},[r("el-input",{staticClass:"m-r-15",staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"搜索产品名称","suffix-icon":"el-icon-search"},model:{value:e.vm.searchKey,callback:function(t){e.$set(e.vm,"searchKey",t)},expression:"vm.searchKey"}}),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.add}},[e._v("添加配送记录")])],1),e._v(" "),r("el-row",{staticClass:"m-t-30"},[r("el-col",{attrs:{span:24}},[r("el-table",{staticStyle:{width:"100%"},attrs:{height:e.tableHeight,data:e.dataList,size:"small",border:"",stripe:""}},[r("el-table-column",{attrs:{prop:"product",label:"产品名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"batch",label:"产品批次"}}),e._v(" "),r("el-table-column",{attrs:{prop:"deliveryPlace",label:"配送目的地","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"deliveryUser",label:"配送员"}}),e._v(" "),r("el-table-column",{attrs:{prop:"receiveUser",label:"收货员"}}),e._v(" "),r("el-table-column",{attrs:{prop:"receiveTime",label:"收获时间"}}),e._v(" "),r("el-table-column",{attrs:{fixed:"right",label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(r){return e.edit(t.row)}}}),e._v(" "),r("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(r){return e.remove(t.row)}}})]}}])})],1)],1)],1),e._v(" "),r("el-row",{staticClass:"m-t-30"},[r("el-col",[r("el-pagination",{staticClass:"text-right",attrs:{background:"",layout:"total, prev, pager, next","current-page":e.vm.currentPage,"page-size":e.vm.pageSize,total:e.vm.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.vm,"currentPage",t)},"update:current-page":function(t){return e.$set(e.vm,"currentPage",t)}}})],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"加工记录",visible:e.dialogVisible,width:"800px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"form",attrs:{size:"small",rules:e.rules,model:e.form,"label-width":"150px"}},[r("el-form-item",{attrs:{label:"所属地块",prop:"plot"}},[r("el-input",{staticStyle:{width:"260px"},attrs:{disabled:""},model:{value:e.form.plot,callback:function(t){e.$set(e.form,"plot",t)},expression:"form.plot"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"产品名称",prop:"product"}},[r("el-select",{staticStyle:{width:"260px"},attrs:{filterable:"",placeholder:"请选择产品"},model:{value:e.form.product,callback:function(t){e.$set(e.form,"product",t)},expression:"form.product"}},e._l(e.productList,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"产品批次",prop:"batch"}},[r("el-select",{staticStyle:{width:"260px"},attrs:{filterable:"",placeholder:"请选择产品批次"},model:{value:e.form.batch,callback:function(t){e.$set(e.form,"batch",t)},expression:"form.batch"}},e._l(e.batchList,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"配送时间",prop:"deliveryTime"}},[r("el-date-picker",{staticStyle:{width:"260px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.deliveryTime,callback:function(t){e.$set(e.form,"deliveryTime",t)},expression:"form.deliveryTime"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"配送目的地",prop:"deliveryPlace"}},[r("el-input",{staticStyle:{width:"260px"},model:{value:e.form.deliveryPlace,callback:function(t){e.$set(e.form,"deliveryPlace",t)},expression:"form.deliveryPlace"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"配送员",prop:"deliveryUser"}},[r("el-input",{staticStyle:{width:"260px"},model:{value:e.form.deliveryUser,callback:function(t){e.$set(e.form,"deliveryUser",t)},expression:"form.deliveryUser"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"收货员",prop:"receiveUser"}},[r("el-input",{staticStyle:{width:"260px"},model:{value:e.form.receiveUser,callback:function(t){e.$set(e.form,"receiveUser",t)},expression:"form.receiveUser"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"配送车辆管理",prop:"deliveryCar"}},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.form.deliveryCar,size:"mini",border:""}},[r("el-table-column",{attrs:{prop:"target",label:"车牌号"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{attrs:{size:"mini"},model:{value:t.row.carNo,callback:function(r){e.$set(t.row,"carNo",r)},expression:"scope.row.carNo"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"value",label:"司机姓名"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{attrs:{size:"mini"},model:{value:t.row.carName,callback:function(r){e.$set(t.row,"carName",r)},expression:"scope.row.carName"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"standard",label:"联系方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-input",{attrs:{size:"mini"},model:{value:t.row.carTel,callback:function(r){e.$set(t.row,"carTel",r)},expression:"scope.row.carTel"}})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"操作",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(r){return e.removeRow(t.$index)}}},[e._v("删除")])]}}])})],1),e._v(" "),r("el-button",{staticClass:"m-t-5",attrs:{size:"mini",type:"text"},on:{click:e.addRow}},[e._v("+ 添加")])],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var i=r("VU/8")(l,a,!1,function(e){r("N+2L")},null,null);t.default=i.exports}});
//# sourceMappingURL=11.1f1650679a4164023915.js.map