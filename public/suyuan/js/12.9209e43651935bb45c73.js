webpackJsonp([12],{"L+HL":function(e,t){},aJB1:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={data:function(){return{vm:{searchKey:"",searchType:"",currentPage:1,pageSize:10,pageTotal:100},typeList:[{value:"选项1",label:""},{value:"选项2",label:"双皮奶"},{value:"选项3",label:"蚵仔煎"},{value:"选项4",label:"龙须面"},{value:"选项5",label:"北京烤鸭"}],dataList:[{product:"阳光玫瑰（东兰）",batch:"2019041010800001",detectProject:"农残检测",detectOrg:"XXX检测机构",detectUser:"黄芳",detectTime:"2018-06-14"},{product:"阳光玫瑰（东兰）",batch:"2019041010800001",detectProject:"农残检测",detectOrg:"XXX检测机构",detectUser:"黄芳",detectTime:"2018-06-14"},{product:"阳光玫瑰（东兰）",batch:"2019041010800001",detectProject:"农残检测",detectOrg:"XXX检测机构",detectUser:"黄芳",detectTime:"2018-06-14"},{product:"阳光玫瑰（东兰）",batch:"2019041010800001",detectProject:"农残检测",detectOrg:"XXX检测机构",detectUser:"黄芳",detectTime:"2018-06-14"}],dialogVisible:!1,form:{plot:"东里旺旺葡萄园",detectTime:"",product:"",batch:"",detectProject:"",detectDetail:[{target:1,value:"",standard:"<=10μg/KG"}],detectUserOrg:"",detectUser:"",detectPic:[]},targetList:[{value:1,label:"黄曲霉毒素"}],productList:[],batchList:[],kindList:[],rules:{product:[{required:!0,message:"请选择检测产品",trigger:"change"}],batch:[{required:!0,message:"请选择产品批次",trigger:"change"}],detectProject:[{required:!0,message:"请选择检测项目",trigger:"change"}],detectDetail:[{type:"array",required:!0,message:"请选择检测明细",trigger:"change"}],detectUser:[{required:!0,message:"检测员",trigger:"blur"}]}}},computed:{tableHeight:function(){return document.documentElement.clientHeight-275}},methods:{search:function(){},add:function(){this.dialogVisible=!0},edit:function(e){this.resetForm(),this.dialogVisible=!0,this.form=e},save:function(){var e=this;this.$refs.form.validate(function(t){if(!t)return e.$message.error("请检查您的输入！"),!1;console.log(e.form),e.dialogVisible=!1})},remove:function(e){var t=this;this.$confirm("是否删除？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$message({type:"success",message:"删除成功!"})}).catch(function(){})},resetForm:function(){this.form={plot:"东里旺旺葡萄园",detectTime:"",product:"",batch:"",detectProject:"",detectDetail:[],detectUserOrg:"",detectUser:"",detectPic:[]}},addRow:function(){if(""==this.form.detectProject)this.$message({message:"请选择检测项目",type:"warning"});else{this.form.detectDetail.push({target:"",value:"",standard:""})}},removeRow:function(e){this.form.detectDetail.splice(e,1)},handleSizeChange:function(e){console.log(e)},handleCurrentChange:function(e){console.log(e)}}},r={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"page-container"},[l("el-aside",{staticClass:"page-nav-left"},[l("div",{staticClass:"aside-bar"},[l("el-menu",{attrs:{"default-active":"2"}},[l("router-link",{attrs:{to:"/trace/batch"}},[l("el-menu-item",{attrs:{index:"0"}},[l("i",{staticClass:"el-icon-position"}),e._v(" "),l("span",{attrs:{slot:"title"},slot:"title"},[e._v("溯源管理")])])],1),e._v(" "),l("router-link",{attrs:{to:"/trace/certify"}},[l("el-menu-item",{attrs:{index:"1"}},[l("i",{staticClass:"el-icon-circle-check"}),e._v(" "),l("span",{attrs:{slot:"title"},slot:"title"},[e._v("认证管理")])])],1),e._v(" "),l("router-link",{attrs:{to:"/trace/detect"}},[l("el-menu-item",{attrs:{index:"2"}},[l("i",{staticClass:"el-icon-set-up"}),e._v(" "),l("span",{attrs:{slot:"title"},slot:"title"},[e._v("检测管理")])])],1),e._v(" "),l("router-link",{attrs:{to:"/trace/process"}},[l("el-menu-item",{attrs:{index:"3"}},[l("i",{staticClass:"el-icon-setting"}),e._v(" "),l("span",{attrs:{slot:"title"},slot:"title"},[e._v("加工管理")])])],1),e._v(" "),l("router-link",{attrs:{to:"/trace/delivery"}},[l("el-menu-item",{attrs:{index:"4"}},[l("i",{staticClass:"el-icon-truck"}),e._v(" "),l("span",{attrs:{slot:"title"},slot:"title"},[e._v("配送管理")])])],1)],1)],1)]),e._v(" "),l("el-main",{staticClass:"m-l-220 m-t-20 bg-white"},[l("div",{staticClass:"flex flex-align-center flex-pack-justify"},[l("div",{staticClass:"flex flex-align-center"},[l("el-select",{staticClass:"m-r-15",attrs:{size:"small",placeholder:"请选择检测项目"},model:{value:e.vm.searchType,callback:function(t){e.$set(e.vm,"searchType",t)},expression:"vm.searchType"}},e._l(e.typeList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),l("el-input",{staticClass:"m-r-15",staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"搜索检测产品名称","suffix-icon":"el-icon-search"},model:{value:e.vm.searchKey,callback:function(t){e.$set(e.vm,"searchKey",t)},expression:"vm.searchKey"}}),e._v(" "),l("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),l("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.add}},[e._v("添加检测记录")])],1),e._v(" "),l("el-row",{staticClass:"m-t-30"},[l("el-col",{attrs:{span:24}},[l("el-table",{staticStyle:{width:"100%"},attrs:{height:e.tableHeight,data:e.dataList,size:"small",border:"",stripe:""}},[l("el-table-column",{attrs:{prop:"product",label:"检测产品"}}),e._v(" "),l("el-table-column",{attrs:{prop:"batch",label:"产品批次"}}),e._v(" "),l("el-table-column",{attrs:{prop:"detectProject",label:"检测项目"}}),e._v(" "),l("el-table-column",{attrs:{prop:"detectOrg",label:"检测机构"}}),e._v(" "),l("el-table-column",{attrs:{prop:"detectUser",label:"检测员"}}),e._v(" "),l("el-table-column",{attrs:{prop:"detectTime",label:"检测时间"}}),e._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(l){return e.edit(t.row)}}}),e._v(" "),l("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(l){return e.remove(t.row)}}})]}}])})],1)],1)],1),e._v(" "),l("el-row",{staticClass:"m-t-30"},[l("el-col",[l("el-pagination",{staticClass:"text-right",attrs:{background:"",layout:"total, prev, pager, next","current-page":e.vm.currentPage,"page-size":e.vm.pageSize,total:e.vm.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.vm,"currentPage",t)},"update:current-page":function(t){return e.$set(e.vm,"currentPage",t)}}})],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"检测记录",visible:e.dialogVisible,width:"1000px","close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("el-form",{ref:"form",attrs:{size:"small",rules:e.rules,model:e.form,"label-width":"150px"}},[l("el-form-item",{attrs:{label:"所属地块",prop:"plot"}},[l("el-input",{staticStyle:{width:"260px"},attrs:{disabled:""},model:{value:e.form.plot,callback:function(t){e.$set(e.form,"plot",t)},expression:"form.plot"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"检测时间",prop:"detectTime"}},[l("el-date-picker",{staticStyle:{width:"260px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.form.time,callback:function(t){e.$set(e.form,"time",t)},expression:"form.time"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"检测产品",prop:"product"}},[l("el-select",{staticStyle:{width:"260px"},attrs:{filterable:"",placeholder:"请选择检测产品"},model:{value:e.form.product,callback:function(t){e.$set(e.form,"product",t)},expression:"form.product"}},e._l(e.productList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"产品批次",prop:"batch"}},[l("el-select",{staticStyle:{width:"260px"},attrs:{filterable:"",placeholder:"请选择产品批次"},model:{value:e.form.batch,callback:function(t){e.$set(e.form,"batch",t)},expression:"form.batch"}},e._l(e.batchList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"检测项目",prop:"detectProject"}},[l("el-select",{staticStyle:{width:"260px"},attrs:{filterable:"",placeholder:"请选择检测项目"},model:{value:e.form.detectProject,callback:function(t){e.$set(e.form,"detectProject",t)},expression:"form.detectProject"}},e._l(e.kindList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),l("el-form-item",{attrs:{label:"检测明细",prop:"detectDetail"}},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.form.detectDetail,size:"mini",border:""}},[l("el-table-column",{attrs:{prop:"target",label:"检测指标"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:t.row.target,callback:function(l){e.$set(t.row,"target",l)},expression:"scope.row.target"}},e._l(e.targetList,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"value",label:"检测值"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{size:"mini"},model:{value:t.row.value,callback:function(l){e.$set(t.row,"value",l)},expression:"scope.row.value"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"standard",label:"检测标准"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-input",{attrs:{size:"mini",readonly:""},model:{value:t.row.standard,callback:function(l){e.$set(t.row,"standard",l)},expression:"scope.row.standard"}})]}}])}),e._v(" "),l("el-table-column",{attrs:{prop:"",label:"操作",width:"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(l){return e.removeRow(t.$index)}}},[e._v("删除")])]}}])})],1),e._v(" "),l("el-button",{staticClass:"m-t-5",attrs:{size:"mini",type:"text"},on:{click:e.addRow}},[e._v("+ 添加")])],1),e._v(" "),l("el-form-item",{attrs:{label:"检测机构",prop:"detectUserOrg"}},[l("el-input",{staticStyle:{width:"260px"},model:{value:e.form.detectUserOrg,callback:function(t){e.$set(e.form,"detectUserOrg",t)},expression:"form.detectUserOrg"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"检测员",prop:"detectUser"}},[l("el-input",{staticStyle:{width:"260px"},model:{value:e.form.detectUser,callback:function(t){e.$set(e.form,"detectUser",t)},expression:"form.detectUser"}})],1),e._v(" "),l("el-form-item",{attrs:{label:"检测报告图片",prop:"detectPic"}},[l("el-upload",{attrs:{multiple:"",action:"https://jsonplaceholder.typicode.com/posts/",limit:10,"file-list":e.form.detectPic}},[l("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),l("div",{attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")]),e._v(" "),l("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.save}},[e._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var s=l("VU/8")(a,r,!1,function(e){l("L+HL")},null,null);t.default=s.exports}});
//# sourceMappingURL=12.9209e43651935bb45c73.js.map